---
import Layout from '@/layouts/Layout.astro';
import ProjectCard from '@/components/ProjectCard.astro';
import { t } from '@/i18n';
import { getCollection } from 'astro:content';

const locale = 'zh';
const projects = await getCollection('projects', ({ data, id }) => {
  return id.startsWith('zh/') && data.category === 'interactive';
});
const sorted = projects.sort((a, b) => (b.data.year || 0) - (a.data.year || 0));
---

<Layout locale={locale} title={t(locale, 'nav.interactive')}>
  <section class="max-w-6xl mx-auto px-6 pt-16 pb-20">
    <h1 class="text-3xl md:text-4xl font-light tracking-tight mb-12">
      {t(locale, 'nav.interactive')}
    </h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {sorted.map((project) => (
        <ProjectCard
          title={project.data.title}
          slug={project.slug.replace('zh/', '')}
          thumbnail={project.data.thumbnail}
          role={project.data.role}
          year={project.data.year}
          locale={locale}
        />
      ))}
    </div>
  </section>
</Layout>
